<!DOCTYPE html>
<html>

<head>
	<link rel="stylesheet" type="text/css" href="css/game.css">
	<script src="jquery/jquery.js"></script>
	<script src="jquery/jquery-ui.js"></script>
		
</head>

<body>

   <button class='startbutton' type='button' onclick='startGame()'>Start Game</button><br>
   <div id='gamearea'></div>
   
</body>

<script>

   function startGame(){
   
        score=0;
		
		$('#gamearea').append("<img id='farmer' src='assets/farmer.jpg' />");
		
		createPig();
		
   }
   
   document.onkeydown = movement;
   
   function movement(e){
        
		e=e||window.event;
		
		if (e.keyCode=='38'){
			up=parseFloat($('#farmer').css('marginTop'));
			if (up>0) {
			   $('#farmer').css("margin-top",(up-40)+"px")
			}
		}
		
		else if (e.keyCode=='40'){
			down=parseFloat($('#farmer').css('marginTop'));
			if (down<500) {
			   $('#farmer').css("margin-top",(down+40)+"px")
			 }  
		}
		
		else if (e.keyCode=='37'){
		    left=parseFloat($('#farmer').css('marginLeft'));
			if (left>0) {
			   $('#farmer').css("margin-left",(left-40)+"px")
			}   
		}
		
		else if (e.keyCode=='39'){
		    right=parseFloat($('#farmer').css('marginLeft'));
			if (right<1250) {
				$('#farmer').css("margin-left",(right+40)+"px")
			}
		}
   }
   
   function createPig(){
   
        setInterval(function() {
		
		    $('#pig').remove();
			
			var direction=Math.floor(Math.random()*2);
			
			$('body').append("<img id='pig' src='assets/pig.png'/>");
			
			if(direction==1){
			   $("#pig").css("margin-left","-15%");
               $("#pig").css("transform","scaleX(-1)");
			   $("#pig").animate({'marginLeft':'101%'}, 2000);
			}else{
			    $("#pig").css("margin-left","101%");
				$("#pig").animate({"marginLeft":"-15%"},2000);
			}
		},3000);
   }
   
</script>

</html>